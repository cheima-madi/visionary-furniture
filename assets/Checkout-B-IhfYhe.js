import{c as st,R,u as Vt,e as wt,b as Ft,j as h}from"./index-BlN0pGCN.js";import{T as pt}from"./truck-CySz2l3k.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],kt=st("credit-card",At);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Nt=st("shield-check",Dt);var ge=e=>e.type==="checkbox",ie=e=>e instanceof Date,U=e=>e==null;const it=e=>typeof e=="object";var N=e=>!U(e)&&!Array.isArray(e)&&it(e)&&!ie(e),St=e=>N(e)&&e.target?ge(e.target)?e.target.checked:e.target.value:e,jt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Et=(e,s)=>e.has(jt(s)),Ct=e=>{const s=e.constructor&&e.constructor.prototype;return N(s)&&s.hasOwnProperty("isPrototypeOf")},Se=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function E(e){if(e instanceof Date)return new Date(e);const s=typeof FileList<"u"&&e instanceof FileList;if(Se&&(e instanceof Blob||s))return e;const r=Array.isArray(e);if(!r&&!(N(e)&&Ct(e)))return e;const a=r?[]:Object.create(Object.getPrototypeOf(e));for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=E(e[o]));return a}var _e=e=>/^\w*$/.test(e),A=e=>e===void 0,je=e=>Array.isArray(e)?e.filter(Boolean):[],Ee=e=>je(e.replace(/["|']|\]/g,"").split(/\.|\[/)),g=(e,s,r)=>{if(!s||!N(e))return r;const a=(_e(s)?[s]:Ee(s)).reduce((o,l)=>U(o)?o:o[l],e);return A(a)||a===e?A(e[s])?r:e[s]:a},J=e=>typeof e=="boolean",K=e=>typeof e=="function",p=(e,s,r)=>{let a=-1;const o=_e(s)?[s]:Ee(s),l=o.length,c=l-1;for(;++a<l;){const f=o[a];let C=r;if(a!==c){const B=e[f];C=N(B)||Array.isArray(B)?B:isNaN(+o[a+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;e[f]=C,e=e[f]}};const $e={BLUR:"blur",FOCUS_OUT:"focusout"},Q={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},G={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ot=R.createContext(null);Ot.displayName="HookFormControlContext";var Tt=(e,s,r,a=!0)=>{const o={defaultValues:s._defaultValues};for(const l in e)Object.defineProperty(o,l,{get:()=>{const c=l;return s._proxyFormState[c]!==Q.all&&(s._proxyFormState[c]=!a||Q.all),e[c]}});return o};const Lt=typeof window<"u"?R.useLayoutEffect:R.useEffect;var q=e=>typeof e=="string",Rt=(e,s,r,a,o)=>q(e)?(a&&s.watch.add(e),g(r,e,o)):Array.isArray(e)?e.map(l=>(a&&s.watch.add(l),g(r,l))):(a&&(s.watchAll=!0),r),De=e=>U(e)||!it(e);function te(e,s,r=new WeakSet){if(De(e)||De(s))return Object.is(e,s);if(ie(e)&&ie(s))return Object.is(e.getTime(),s.getTime());const a=Object.keys(e),o=Object.keys(s);if(a.length!==o.length)return!1;if(r.has(e)||r.has(s))return!0;r.add(e),r.add(s);for(const l of a){const c=e[l];if(!o.includes(l))return!1;if(l!=="ref"){const f=s[l];if(ie(c)&&ie(f)||N(c)&&N(f)||Array.isArray(c)&&Array.isArray(f)?!te(c,f,r):!Object.is(c,f))return!1}}return!0}const Mt=R.createContext(null);Mt.displayName="HookFormContext";var Ut=(e,s,r,a,o)=>s?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[a]:o||!0}}:{},ye=e=>Array.isArray(e)?e:[e],ze=()=>{let e=[];return{get observers(){return e},next:o=>{for(const l of e)l.next&&l.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(l=>l!==o)}}),unsubscribe:()=>{e=[]}}};function at(e,s){const r={};for(const a in e)if(e.hasOwnProperty(a)){const o=e[a],l=s[a];if(o&&N(o)&&l){const c=at(o,l);N(c)&&(r[a]=c)}else e[a]&&(r[a]=l)}return r}var M=e=>N(e)&&!Object.keys(e).length,Ce=e=>e.type==="file",be=e=>{if(!Se)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},lt=e=>e.type==="select-multiple",Oe=e=>e.type==="radio",It=e=>Oe(e)||ge(e),ke=e=>be(e)&&e.isConnected;function Pt(e,s){const r=s.slice(0,-1).length;let a=0;for(;a<r;)e=A(e)?a++:e[s[a++]];return e}function qt(e){for(const s in e)if(e.hasOwnProperty(s)&&!A(e[s]))return!1;return!0}function D(e,s){const r=Array.isArray(s)?s:_e(s)?[s]:Ee(s),a=r.length===1?e:Pt(e,r),o=r.length-1,l=r[o];return a&&delete a[l],o!==0&&(N(a)&&M(a)||Array.isArray(a)&&qt(a))&&D(e,r.slice(0,-1)),e}var Bt=e=>{for(const s in e)if(K(e[s]))return!0;return!1};function nt(e){return Array.isArray(e)||N(e)&&!Bt(e)}function Ne(e,s={}){for(const r in e){const a=e[r];nt(a)?(s[r]=Array.isArray(a)?[]:{},Ne(a,s[r])):A(a)||(s[r]=!0)}return s}function ne(e,s,r){r||(r=Ne(s));for(const a in e){const o=e[a];if(nt(o))A(s)||De(r[a])?r[a]=Ne(o,Array.isArray(o)?[]:{}):ne(o,U(s)?{}:s[a],r[a]);else{const l=s[a];r[a]=!te(o,l)}}return r}const Ke={value:!1,isValid:!1},Qe={value:!0,isValid:!0};var ot=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!A(e[0].attributes.value)?A(e[0].value)||e[0].value===""?Qe:{value:e[0].value,isValid:!0}:Qe:Ke}return Ke},dt=(e,{valueAsNumber:s,valueAsDate:r,setValueAs:a})=>A(e)?e:s?e===""?NaN:e&&+e:r&&q(e)?new Date(e):a?a(e):e;const Ye={isValid:!1,value:null};var ut=e=>Array.isArray(e)?e.reduce((s,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:s,Ye):Ye;function Je(e){const s=e.ref;return Ce(s)?s.files:Oe(s)?ut(e.refs).value:lt(s)?[...s.selectedOptions].map(({value:r})=>r):ge(s)?ot(e.refs).value:dt(A(s.value)?e.ref.value:s.value,e)}var Wt=(e,s,r,a)=>{const o={};for(const l of e){const c=g(s,l);c&&p(o,l,c._f)}return{criteriaMode:r,names:[...e],fields:o,shouldUseNativeValidation:a}},ve=e=>e instanceof RegExp,fe=e=>A(e)?e:ve(e)?e.source:N(e)?ve(e.value)?e.value.source:e.value:e,Xe=e=>({isOnSubmit:!e||e===Q.onSubmit,isOnBlur:e===Q.onBlur,isOnChange:e===Q.onChange,isOnAll:e===Q.all,isOnTouch:e===Q.onTouched});const Ze="AsyncFunction";var Ht=e=>!!e&&!!e.validate&&!!(K(e.validate)&&e.validate.constructor.name===Ze||N(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===Ze)),$t=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Ge=(e,s,r)=>!r&&(s.watchAll||s.watch.has(e)||[...s.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const he=(e,s,r,a)=>{for(const o of r||Object.keys(e)){const l=g(e,o);if(l){const{_f:c,...f}=l;if(c){if(c.refs&&c.refs[0]&&s(c.refs[0],o)&&!a)return!0;if(c.ref&&s(c.ref,c.name)&&!a)return!0;if(he(f,s))break}else if(N(f)&&he(f,s))break}}};function et(e,s,r){const a=g(e,r);if(a||_e(r))return{error:a,name:r};const o=r.split(".");for(;o.length;){const l=o.join("."),c=g(s,l),f=g(e,l);if(c&&!Array.isArray(c)&&r!==l)return{name:r};if(f&&f.type)return{name:l,error:f};if(f&&f.root&&f.root.type)return{name:`${l}.root`,error:f.root};o.pop()}return{name:r}}var zt=(e,s,r,a)=>{r(e);const{name:o,...l}=e;return M(l)||Object.keys(l).length>=Object.keys(s).length||Object.keys(l).find(c=>s[c]===(!a||Q.all))},Kt=(e,s,r)=>!e||!s||e===s||ye(e).some(a=>a&&(r?a===s:a.startsWith(s)||s.startsWith(a))),Qt=(e,s,r,a,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(s||e):(r?a.isOnBlur:o.isOnBlur)?!e:(r?a.isOnChange:o.isOnChange)?e:!0,Yt=(e,s)=>!je(g(e,s)).length&&D(e,s),Jt=(e,s,r)=>{const a=ye(g(e,r));return p(a,"root",s[r]),p(e,r,a),e};function tt(e,s,r="validate"){if(q(e)||Array.isArray(e)&&e.every(q)||J(e)&&!e)return{type:r,message:q(e)?e:"",ref:s}}var le=e=>N(e)&&!ve(e)?e:{value:e,message:""},rt=async(e,s,r,a,o,l)=>{const{ref:c,refs:f,required:C,maxLength:B,minLength:O,min:V,max:k,pattern:m,validate:W,name:I,valueAsNumber:Y,mount:H}=e._f,v=g(r,I);if(!H||s.has(I))return{};const X=f?f[0]:c,Z=b=>{o&&X.reportValidity&&(X.setCustomValidity(J(b)?"":b||""),X.reportValidity())},S={},oe=Oe(c),xe=ge(c),re=oe||xe,ae=(Y||Ce(c))&&A(c.value)&&A(v)||be(c)&&c.value===""||v===""||Array.isArray(v)&&!v.length,$=Ut.bind(null,I,a,S),me=(b,_,j,T=G.maxLength,z=G.minLength)=>{const P=b?_:j;S[I]={type:b?T:z,message:P,ref:c,...$(b?T:z,P)}};if(l?!Array.isArray(v)||!v.length:C&&(!re&&(ae||U(v))||J(v)&&!v||xe&&!ot(f).isValid||oe&&!ut(f).isValid)){const{value:b,message:_}=q(C)?{value:!!C,message:C}:le(C);if(b&&(S[I]={type:G.required,message:_,ref:X,...$(G.required,_)},!a))return Z(_),S}if(!ae&&(!U(V)||!U(k))){let b,_;const j=le(k),T=le(V);if(!U(v)&&!isNaN(v)){const z=c.valueAsNumber||v&&+v;U(j.value)||(b=z>j.value),U(T.value)||(_=z<T.value)}else{const z=c.valueAsDate||new Date(v),P=ce=>new Date(new Date().toDateString()+" "+ce),de=c.type=="time",ue=c.type=="week";q(j.value)&&v&&(b=de?P(v)>P(j.value):ue?v>j.value:z>new Date(j.value)),q(T.value)&&v&&(_=de?P(v)<P(T.value):ue?v<T.value:z<new Date(T.value))}if((b||_)&&(me(!!b,j.message,T.message,G.max,G.min),!a))return Z(S[I].message),S}if((B||O)&&!ae&&(q(v)||l&&Array.isArray(v))){const b=le(B),_=le(O),j=!U(b.value)&&v.length>+b.value,T=!U(_.value)&&v.length<+_.value;if((j||T)&&(me(j,b.message,_.message),!a))return Z(S[I].message),S}if(m&&!ae&&q(v)){const{value:b,message:_}=le(m);if(ve(b)&&!v.match(b)&&(S[I]={type:G.pattern,message:_,ref:c,...$(G.pattern,_)},!a))return Z(_),S}if(W){if(K(W)){const b=await W(v,r),_=tt(b,X);if(_&&(S[I]={..._,...$(G.validate,_.message)},!a))return Z(_.message),S}else if(N(W)){let b={};for(const _ in W){if(!M(b)&&!a)break;const j=tt(await W[_](v,r),X,_);j&&(b={...j,...$(_,j.message)},Z(j.message),a&&(S[I]=b))}if(!M(b)&&(S[I]={ref:X,...b},!a))return S}}return Z(!0),S};const Xt={mode:Q.onSubmit,reValidateMode:Q.onChange,shouldFocusError:!0};function Zt(e={}){let s={...Xt,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:K(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},a={},o=N(s.defaultValues)||N(s.values)?E(s.defaultValues||s.values)||{}:{},l=s.shouldUnregister?{}:E(o),c={action:!1,mount:!1,watch:!1,keepIsValid:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},C,B=0;const O={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},V={...O};let k={...V};const m={array:ze(),state:ze()},W=s.criteriaMode===Q.all,I=t=>i=>{clearTimeout(B),B=setTimeout(t,i)},Y=async t=>{if(!c.keepIsValid&&!s.disabled&&(V.isValid||k.isValid||t)){let i;s.resolver?(i=M((await re()).errors),H()):i=await $(a,!0),i!==r.isValid&&m.state.next({isValid:i})}},H=(t,i)=>{!s.disabled&&(V.isValidating||V.validatingFields||k.isValidating||k.validatingFields)&&((t||Array.from(f.mount)).forEach(n=>{n&&(i?p(r.validatingFields,n,i):D(r.validatingFields,n))}),m.state.next({validatingFields:r.validatingFields,isValidating:!M(r.validatingFields)}))},v=(t,i=[],n,y,u=!0,d=!0)=>{if(y&&n&&!s.disabled){if(c.action=!0,d&&Array.isArray(g(a,t))){const x=n(g(a,t),y.argA,y.argB);u&&p(a,t,x)}if(d&&Array.isArray(g(r.errors,t))){const x=n(g(r.errors,t),y.argA,y.argB);u&&p(r.errors,t,x),Yt(r.errors,t)}if((V.touchedFields||k.touchedFields)&&d&&Array.isArray(g(r.touchedFields,t))){const x=n(g(r.touchedFields,t),y.argA,y.argB);u&&p(r.touchedFields,t,x)}(V.dirtyFields||k.dirtyFields)&&(r.dirtyFields=ne(o,l)),m.state.next({name:t,isDirty:b(t,i),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else p(l,t,i)},X=(t,i)=>{p(r.errors,t,i),m.state.next({errors:r.errors})},Z=t=>{r.errors=t,m.state.next({errors:r.errors,isValid:!1})},S=(t,i,n,y)=>{const u=g(a,t);if(u){const d=g(l,t,A(n)?g(o,t):n);A(d)||y&&y.defaultChecked||i?p(l,t,i?d:Je(u._f)):T(t,d),c.mount&&!c.action&&Y()}},oe=(t,i,n,y,u)=>{let d=!1,x=!1;const w={name:t};if(!s.disabled){if(!n||y){(V.isDirty||k.isDirty)&&(x=r.isDirty,r.isDirty=w.isDirty=b(),d=x!==w.isDirty);const F=te(g(o,t),i);x=!!g(r.dirtyFields,t),F?D(r.dirtyFields,t):p(r.dirtyFields,t,!0),w.dirtyFields=r.dirtyFields,d=d||(V.dirtyFields||k.dirtyFields)&&x!==!F}if(n){const F=g(r.touchedFields,t);F||(p(r.touchedFields,t,n),w.touchedFields=r.touchedFields,d=d||(V.touchedFields||k.touchedFields)&&F!==n)}d&&u&&m.state.next(w)}return d?w:{}},xe=(t,i,n,y)=>{const u=g(r.errors,t),d=(V.isValid||k.isValid)&&J(i)&&r.isValid!==i;if(s.delayError&&n?(C=I(()=>X(t,n)),C(s.delayError)):(clearTimeout(B),C=null,n?p(r.errors,t,n):D(r.errors,t)),(n?!te(u,n):u)||!M(y)||d){const x={...y,...d&&J(i)?{isValid:i}:{},errors:r.errors,name:t};r={...r,...x},m.state.next(x)}},re=async t=>(H(t,!0),await s.resolver(l,s.context,Wt(t||f.mount,a,s.criteriaMode,s.shouldUseNativeValidation))),ae=async t=>{const{errors:i}=await re(t);if(H(t),t)for(const n of t){const y=g(i,n);y?p(r.errors,n,y):D(r.errors,n)}else r.errors=i;return i},$=async(t,i,n={valid:!0})=>{for(const y in t){const u=t[y];if(u){const{_f:d,...x}=u;if(d){const w=f.array.has(d.name),F=u._f&&Ht(u._f);F&&V.validatingFields&&H([d.name],!0);const L=await rt(u,f.disabled,l,W,s.shouldUseNativeValidation&&!i,w);if(F&&V.validatingFields&&H([d.name]),L[d.name]&&(n.valid=!1,i||e.shouldUseNativeValidation))break;!i&&(g(L,d.name)?w?Jt(r.errors,L,d.name):p(r.errors,d.name,L[d.name]):D(r.errors,d.name))}!M(x)&&await $(x,i,n)}}return n.valid},me=()=>{for(const t of f.unMount){const i=g(a,t);i&&(i._f.refs?i._f.refs.every(n=>!ke(n)):!ke(i._f.ref))&&Ve(t)}f.unMount=new Set},b=(t,i)=>!s.disabled&&(t&&i&&p(l,t,i),!te(Te(),o)),_=(t,i,n)=>Rt(t,f,{...c.mount?l:A(i)?o:q(t)?{[t]:i}:i},n,i),j=t=>je(g(c.mount?l:o,t,s.shouldUnregister?g(o,t,[]):[])),T=(t,i,n={})=>{const y=g(a,t);let u=i;if(y){const d=y._f;d&&(!d.disabled&&p(l,t,dt(i,d)),u=be(d.ref)&&U(i)?"":i,lt(d.ref)?[...d.ref.options].forEach(x=>x.selected=u.includes(x.value)):d.refs?ge(d.ref)?d.refs.forEach(x=>{(!x.defaultChecked||!x.disabled)&&(Array.isArray(u)?x.checked=!!u.find(w=>w===x.value):x.checked=u===x.value||!!u)}):d.refs.forEach(x=>x.checked=x.value===u):Ce(d.ref)?d.ref.value="":(d.ref.value=u,d.ref.type||m.state.next({name:t,values:E(l)})))}(n.shouldDirty||n.shouldTouch)&&oe(t,u,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&ce(t)},z=(t,i,n)=>{for(const y in i){if(!i.hasOwnProperty(y))return;const u=i[y],d=t+"."+y,x=g(a,d);(f.array.has(t)||N(u)||x&&!x._f)&&!ie(u)?z(d,u,n):T(d,u,n)}},P=(t,i,n={})=>{const y=g(a,t),u=f.array.has(t),d=E(i);p(l,t,d),u?(m.array.next({name:t,values:E(l)}),(V.isDirty||V.dirtyFields||k.isDirty||k.dirtyFields)&&n.shouldDirty&&m.state.next({name:t,dirtyFields:ne(o,l),isDirty:b(t,d)})):y&&!y._f&&!U(d)?z(t,d,n):T(t,d,n),Ge(t,f)?m.state.next({...r,name:t,values:E(l)}):m.state.next({name:c.mount?t:void 0,values:E(l)})},de=async t=>{c.mount=!0;const i=t.target;let n=i.name,y=!0;const u=g(a,n),d=F=>{y=Number.isNaN(F)||ie(F)&&isNaN(F.getTime())||te(F,g(l,n,F))},x=Xe(s.mode),w=Xe(s.reValidateMode);if(u){let F,L;const se=i.type?Je(u._f):St(t),ee=t.type===$e.BLUR||t.type===$e.FOCUS_OUT,bt=!$t(u._f)&&!s.resolver&&!g(r.errors,n)&&!u._f.deps||Qt(ee,g(r.touchedFields,n),r.isSubmitted,w,x),pe=Ge(n,f,ee);p(l,n,se),ee?(!i||!i.readOnly)&&(u._f.onBlur&&u._f.onBlur(t),C&&C(0)):u._f.onChange&&u._f.onChange(t);const Ae=oe(n,se,ee),vt=!M(Ae)||pe;if(!ee&&m.state.next({name:n,type:t.type,values:E(l)}),bt)return(V.isValid||k.isValid)&&(s.mode==="onBlur"?ee&&Y():ee||Y()),vt&&m.state.next({name:n,...pe?{}:Ae});if(!ee&&pe&&m.state.next({...r}),s.resolver){const{errors:We}=await re([n]);if(H([n]),d(se),y){const _t=et(r.errors,a,n),He=et(We,a,_t.name||n);F=He.error,n=He.name,L=M(We)}}else H([n],!0),F=(await rt(u,f.disabled,l,W,s.shouldUseNativeValidation))[n],H([n]),d(se),y&&(F?L=!1:(V.isValid||k.isValid)&&(L=await $(a,!0)));y&&(u._f.deps&&(!Array.isArray(u._f.deps)||u._f.deps.length>0)&&ce(u._f.deps),xe(n,L,F,Ae))}},ue=(t,i)=>{if(g(r.errors,i)&&t.focus)return t.focus(),1},ce=async(t,i={})=>{let n,y;const u=ye(t);if(s.resolver){const d=await ae(A(t)?t:u);n=M(d),y=t?!u.some(x=>g(d,x)):n}else t?(y=(await Promise.all(u.map(async d=>{const x=g(a,d);return await $(x&&x._f?{[d]:x}:x)}))).every(Boolean),!(!y&&!r.isValid)&&Y()):y=n=await $(a);return m.state.next({...!q(t)||(V.isValid||k.isValid)&&n!==r.isValid?{}:{name:t},...s.resolver||!t?{isValid:n}:{},errors:r.errors}),i.shouldFocus&&!y&&he(a,ue,t?u:f.mount),y},Te=(t,i)=>{let n={...c.mount?l:o};return i&&(n=at(i.dirtyFields?r.dirtyFields:r.touchedFields,n)),A(t)?n:q(t)?g(n,t):t.map(y=>g(n,y))},Le=(t,i)=>({invalid:!!g((i||r).errors,t),isDirty:!!g((i||r).dirtyFields,t),error:g((i||r).errors,t),isValidating:!!g(r.validatingFields,t),isTouched:!!g((i||r).touchedFields,t)}),ct=t=>{t&&ye(t).forEach(i=>D(r.errors,i)),m.state.next({errors:t?r.errors:{}})},Re=(t,i,n)=>{const y=(g(a,t,{_f:{}})._f||{}).ref,u=g(r.errors,t)||{},{ref:d,message:x,type:w,...F}=u;p(r.errors,t,{...F,...i,ref:y}),m.state.next({name:t,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&y&&y.focus&&y.focus()},ft=(t,i)=>K(t)?m.state.subscribe({next:n=>"values"in n&&t(_(void 0,i),n)}):_(t,i,!0),Me=t=>m.state.subscribe({next:i=>{Kt(t.name,i.name,t.exact)&&zt(i,t.formState||V,mt,t.reRenderRoot)&&t.callback({values:{...l},...r,...i,defaultValues:o})}}).unsubscribe,yt=t=>(c.mount=!0,k={...k,...t.formState},Me({...t,formState:{...O,...t.formState}})),Ve=(t,i={})=>{for(const n of t?ye(t):f.mount)f.mount.delete(n),f.array.delete(n),i.keepValue||(D(a,n),D(l,n)),!i.keepError&&D(r.errors,n),!i.keepDirty&&D(r.dirtyFields,n),!i.keepTouched&&D(r.touchedFields,n),!i.keepIsValidating&&D(r.validatingFields,n),!s.shouldUnregister&&!i.keepDefaultValue&&D(o,n);m.state.next({values:E(l)}),m.state.next({...r,...i.keepDirty?{isDirty:b()}:{}}),!i.keepIsValid&&Y()},Ue=({disabled:t,name:i})=>{if(J(t)&&c.mount||t||f.disabled.has(i)){const u=f.disabled.has(i)!==!!t;t?f.disabled.add(i):f.disabled.delete(i),u&&c.mount&&!c.action&&Y()}},we=(t,i={})=>{let n=g(a,t);const y=J(i.disabled)||J(s.disabled);return p(a,t,{...n||{},_f:{...n&&n._f?n._f:{ref:{name:t}},name:t,mount:!0,...i}}),f.mount.add(t),n?Ue({disabled:J(i.disabled)?i.disabled:s.disabled,name:t}):S(t,!0,i.value),{...y?{disabled:i.disabled||s.disabled}:{},...s.progressive?{required:!!i.required,min:fe(i.min),max:fe(i.max),minLength:fe(i.minLength),maxLength:fe(i.maxLength),pattern:fe(i.pattern)}:{},name:t,onChange:de,onBlur:de,ref:u=>{if(u){we(t,i),n=g(a,t);const d=A(u.value)&&u.querySelectorAll&&u.querySelectorAll("input,select,textarea")[0]||u,x=It(d),w=n._f.refs||[];if(x?w.find(F=>F===d):d===n._f.ref)return;p(a,t,{_f:{...n._f,...x?{refs:[...w.filter(ke),d,...Array.isArray(g(o,t))?[{}]:[]],ref:{type:d.type,name:t}}:{ref:d}}}),S(t,!1,void 0,d)}else n=g(a,t,{}),n._f&&(n._f.mount=!1),(s.shouldUnregister||i.shouldUnregister)&&!(Et(f.array,t)&&c.action)&&f.unMount.add(t)}}},Fe=()=>s.shouldFocusError&&he(a,ue,f.mount),ht=t=>{J(t)&&(m.state.next({disabled:t}),he(a,(i,n)=>{const y=g(a,n);y&&(i.disabled=y._f.disabled||t,Array.isArray(y._f.refs)&&y._f.refs.forEach(u=>{u.disabled=y._f.disabled||t}))},0,!1))},Ie=(t,i)=>async n=>{let y;n&&(n.preventDefault&&n.preventDefault(),n.persist&&n.persist());let u=E(l);if(m.state.next({isSubmitting:!0}),s.resolver){const{errors:d,values:x}=await re();H(),r.errors=d,u=E(x)}else await $(a);if(f.disabled.size)for(const d of f.disabled)D(u,d);if(D(r.errors,"root"),M(r.errors)){m.state.next({errors:{}});try{await t(u,n)}catch(d){y=d}}else i&&await i({...r.errors},n),Fe(),setTimeout(Fe);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:M(r.errors)&&!y,submitCount:r.submitCount+1,errors:r.errors}),y)throw y},gt=(t,i={})=>{g(a,t)&&(A(i.defaultValue)?P(t,E(g(o,t))):(P(t,i.defaultValue),p(o,t,E(i.defaultValue))),i.keepTouched||D(r.touchedFields,t),i.keepDirty||(D(r.dirtyFields,t),r.isDirty=i.defaultValue?b(t,E(g(o,t))):b()),i.keepError||(D(r.errors,t),V.isValid&&Y()),m.state.next({...r}))},Pe=(t,i={})=>{const n=t?E(t):o,y=E(n),u=M(t),d=u?o:y;if(i.keepDefaultValues||(o=n),!i.keepValues){if(i.keepDirtyValues){const x=new Set([...f.mount,...Object.keys(ne(o,l))]);for(const w of Array.from(x)){const F=g(r.dirtyFields,w),L=g(l,w),se=g(d,w);F&&!A(L)?p(d,w,L):!F&&!A(se)&&P(w,se)}}else{if(Se&&A(t))for(const x of f.mount){const w=g(a,x);if(w&&w._f){const F=Array.isArray(w._f.refs)?w._f.refs[0]:w._f.ref;if(be(F)){const L=F.closest("form");if(L){L.reset();break}}}}if(i.keepFieldsRef)for(const x of f.mount)P(x,g(d,x));else a={}}l=s.shouldUnregister?i.keepDefaultValues?E(o):{}:E(d),m.array.next({values:{...d}}),m.state.next({values:{...d}})}f={mount:i.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!V.isValid||!!i.keepIsValid||!!i.keepDirtyValues||!s.shouldUnregister&&!M(d),c.watch=!!s.shouldUnregister,c.keepIsValid=!!i.keepIsValid,c.action=!1,i.keepErrors||(r.errors={}),m.state.next({submitCount:i.keepSubmitCount?r.submitCount:0,isDirty:u?!1:i.keepDirty?r.isDirty:!!(i.keepDefaultValues&&!te(t,o)),isSubmitted:i.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:u?{}:i.keepDirtyValues?i.keepDefaultValues&&l?ne(o,l):r.dirtyFields:i.keepDefaultValues&&t?ne(o,t):i.keepDirty?r.dirtyFields:{},touchedFields:i.keepTouched?r.touchedFields:{},errors:i.keepErrors?r.errors:{},isSubmitSuccessful:i.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},qe=(t,i)=>Pe(K(t)?t(l):t,{...s.resetOptions,...i}),xt=(t,i={})=>{const n=g(a,t),y=n&&n._f;if(y){const u=y.refs?y.refs[0]:y.ref;u.focus&&setTimeout(()=>{u.focus(),i.shouldSelect&&K(u.select)&&u.select()})}},mt=t=>{r={...r,...t}},Be={control:{register:we,unregister:Ve,getFieldState:Le,handleSubmit:Ie,setError:Re,_subscribe:Me,_runSchema:re,_updateIsValidating:H,_focusError:Fe,_getWatch:_,_getDirty:b,_setValid:Y,_setFieldArray:v,_setDisabledField:Ue,_setErrors:Z,_getFieldArray:j,_reset:Pe,_resetDefaultValues:()=>K(s.defaultValues)&&s.defaultValues().then(t=>{qe(t,s.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:me,_disableForm:ht,_subjects:m,_proxyFormState:V,get _fields(){return a},get _formValues(){return l},get _state(){return c},set _state(t){c=t},get _defaultValues(){return o},get _names(){return f},set _names(t){f=t},get _formState(){return r},get _options(){return s},set _options(t){s={...s,...t}}},subscribe:yt,trigger:ce,register:we,handleSubmit:Ie,watch:ft,setValue:P,getValues:Te,reset:qe,resetField:gt,clearErrors:ct,unregister:Ve,setError:Re,setFocus:xt,getFieldState:Le};return{...Be,formControl:Be}}function Gt(e={}){const s=R.useRef(void 0),r=R.useRef(void 0),[a,o]=R.useState({isDirty:!1,isValidating:!1,isLoading:K(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:K(e.defaultValues)?void 0:e.defaultValues});if(!s.current)if(e.formControl)s.current={...e.formControl,formState:a},e.defaultValues&&!K(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:c,...f}=Zt(e);s.current={...f,formState:a}}const l=s.current.control;return l._options=e,Lt(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>o({...l._formState}),reRenderRoot:!0});return o(f=>({...f,isReady:!0})),l._formState.isReady=!0,c},[l]),R.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),R.useEffect(()=>{e.mode&&(l._options.mode=e.mode),e.reValidateMode&&(l._options.reValidateMode=e.reValidateMode)},[l,e.mode,e.reValidateMode]),R.useEffect(()=>{e.errors&&(l._setErrors(e.errors),l._focusError())},[l,e.errors]),R.useEffect(()=>{e.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,e.shouldUnregister]),R.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==a.isDirty&&l._subjects.state.next({isDirty:c})}},[l,a.isDirty]),R.useEffect(()=>{var c;e.values&&!te(e.values,r.current)?(l._reset(e.values,{keepFieldsRef:!0,...l._options.resetOptions}),!((c=l._options.resetOptions)===null||c===void 0)&&c.keepIsValid||l._setValid(),r.current=e.values,o(f=>({...f}))):l._resetDefaultValues()},[l,e.values]),R.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),s.current.formState=R.useMemo(()=>Tt(a,l),[l,a]),s.current}const sr=()=>{const{cart:e,cartTotal:s,clearCart:r}=Vt(),{user:a}=wt(),o=Ft(),{register:l,handleSubmit:c,formState:{errors:f,isSubmitting:C}}=Gt({defaultValues:{name:(a==null?void 0:a.name)||"",email:(a==null?void 0:a.email)||""}}),B=async O=>{console.log("Order placed:",{data:O,cart:e,total:s}),await new Promise(V=>setTimeout(V,2e3)),r(),o("/order-confirmation")};return h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-20",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 mb-8",children:"Shipping Information"}),h.jsxs("form",{onSubmit:c(B),className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Full Name"}),h.jsx("input",{...l("name",{required:"Name is required"}),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none"}),f.name&&h.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.name.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Phone Number"}),h.jsx("input",{...l("phone",{required:"Phone is required"}),placeholder:"+213...",className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none"}),f.phone&&h.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.phone.message})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Email Address"}),h.jsx("input",{...l("email",{required:"Email is required"}),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Street Address"}),h.jsx("input",{...l("street",{required:"Street is required"}),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"City"}),h.jsx("input",{...l("city",{required:"City is required"}),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Postal Code"}),h.jsx("input",{...l("postalCode",{required:"Postal code is required"}),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Delivery Notes (Optional)"}),h.jsx("textarea",{...l("notes"),rows:3,className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none"})]}),h.jsx("button",{type:"submit",disabled:C,className:"w-full bg-indigo-600 text-white py-5 rounded-2xl font-bold text-lg hover:bg-indigo-700 transition flex items-center justify-center gap-3 shadow-xl disabled:opacity-50",children:C?"Processing Order...":"Place My Order"})]})]}),h.jsx("div",{children:h.jsxs("div",{className:"bg-gray-900 rounded-[2rem] p-10 text-white shadow-2xl sticky top-24",children:[h.jsx("h3",{className:"text-2xl font-bold mb-8",children:"Order Summary"}),h.jsx("div",{className:"space-y-6 mb-10 max-h-60 overflow-y-auto pr-4 scrollbar-thin",children:e.map(O=>{var V,k,m,W;return h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{className:"flex gap-4 items-center",children:[h.jsx("div",{className:"w-12 h-12 bg-gray-800 rounded-lg overflow-hidden flex-shrink-0",children:h.jsx("img",{src:(V=O.product)==null?void 0:V.images[0],alt:(k=O.product)==null?void 0:k.name,className:"w-full h-full object-cover"})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-bold text-sm",children:(m=O.product)==null?void 0:m.name}),h.jsxs("p",{className:"text-xs text-gray-400",children:["Qty: ",O.quantity," Â· ",O.selectedColor]})]})]}),h.jsxs("p",{className:"font-bold",children:[((((W=O.product)==null?void 0:W.price)||0)*O.quantity).toLocaleString()," DA"]})]},`${O.productId}-${O.selectedColor}`)})}),h.jsxs("div",{className:"space-y-4 border-t border-gray-800 pt-8 mb-8",children:[h.jsxs("div",{className:"flex justify-between text-gray-400",children:[h.jsx("span",{children:"Subtotal"}),h.jsxs("span",{className:"text-white",children:[s.toLocaleString()," DA"]})]}),h.jsxs("div",{className:"flex justify-between text-gray-400",children:[h.jsx("span",{children:"Shipping"}),h.jsx("span",{className:"text-emerald-400 font-bold",children:"FREE"})]}),h.jsxs("div",{className:"flex justify-between text-2xl font-extrabold pt-4 border-t border-gray-800",children:[h.jsx("span",{children:"Total"}),h.jsxs("span",{className:"text-indigo-400",children:[s.toLocaleString()," DA"]})]})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[h.jsx(Nt,{className:"w-6 h-6 text-indigo-400"}),h.jsx("span",{children:"Secure SSL encrypted payment processing"})]}),h.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[h.jsx(pt,{className:"w-6 h-6 text-indigo-400"}),h.jsx("span",{children:"Standard delivery in 3-5 business days"})]}),h.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[h.jsx(kt,{className:"w-6 h-6 text-indigo-400"}),h.jsx("span",{children:"Accepting Visa, Mastercard, and Cash on Delivery"})]})]})]})})]})})};export{sr as default};
